# ğŸ›¡ï¸ TrustLayer - Security Governance Platform

Uma plataforma completa de governanÃ§a de seguranÃ§a multi-domÃ­nio para **AI Security**, **Cloud Security** e **DevSecOps**, baseada em frameworks reconhecidos internacionalmente como NIST AI RMF, ISO 27001/27002, LGPD, CSA CCM, OWASP e outros.

<div align="center">

<!-- Build & Quality -->
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen?logo=github&logoColor=white)](https://ai-assess-insight.lovable.app)
[![Tests](https://img.shields.io/badge/tests-passing-brightgreen?logo=vitest&logoColor=white)](https://ai-assess-insight.lovable.app)
[![Coverage](https://img.shields.io/badge/coverage-85%25-green?logo=codecov&logoColor=white)](https://ai-assess-insight.lovable.app)
[![Code Quality](https://img.shields.io/badge/code%20quality-A-brightgreen?logo=codacy&logoColor=white)](https://ai-assess-insight.lovable.app)

<!-- Version & Tech -->
[![Version](https://img.shields.io/badge/version-1.2.0-blue?logo=semanticrelease&logoColor=white)](https://ai-assess-insight.lovable.app)
[![React](https://img.shields.io/badge/React-18.3.1-61dafb?logo=react&logoColor=white)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-3178c6?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-5.4-646cff?logo=vite&logoColor=white)](https://vitejs.dev/)
[![Tailwind](https://img.shields.io/badge/Tailwind-3.4-38bdf8?logo=tailwindcss&logoColor=white)](https://tailwindcss.com/)

<!-- Backend & Infra -->
[![Supabase](https://img.shields.io/badge/Supabase-Self--Hosted-3ecf8e?logo=supabase&logoColor=white)](https://supabase.com/)
[![Edge Functions](https://img.shields.io/badge/Edge%20Functions-5-3ecf8e?logo=deno&logoColor=white)](https://supabase.com/docs/guides/functions)

<!-- License & Community -->
[![License](https://img.shields.io/badge/license-MIT-blue?logo=opensourceinitiative&logoColor=white)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen?logo=github&logoColor=white)](https://ai-assess-insight.lovable.app)
[![i18n](https://img.shields.io/badge/i18n-3%20languages-blueviolet?logo=googletranslate&logoColor=white)](https://ai-assess-insight.lovable.app)

<!-- Frameworks Supported -->
[![NIST](https://img.shields.io/badge/NIST-AI%20RMF%20%7C%20SSDF-orange)](https://www.nist.gov/)
[![ISO](https://img.shields.io/badge/ISO-27001%20%7C%2027002%20%7C%2023894-blue)](https://www.iso.org/)
[![CSA](https://img.shields.io/badge/CSA-CCM%20v4-yellow)](https://cloudsecurityalliance.org/)
[![OWASP](https://img.shields.io/badge/OWASP-Top%2010-red)](https://owasp.org/)

</div>

## ğŸ“¸ Screenshots

<div align="center">

### ğŸ” Login - AutenticaÃ§Ã£o Segura
![Login](docs/screenshots/login.png)
*Tela de login com credenciais pre-provisionadas*

---

### ğŸ“‹ Assessment - QuestionÃ¡rio de AvaliaÃ§Ã£o
![Assessment](src/assets/screenshots/assessment.png)
*QuestionÃ¡rio estruturado por domÃ­nios L1/L2 com campos de evidÃªncia*

---

### ğŸ“Š Dashboard Executivo
![Executive Dashboard](src/assets/screenshots/dashboard-executive.png)
*VisÃ£o estratÃ©gica com KPIs, grÃ¡ficos de maturidade e roadmap para CISO*

---

### ğŸ“ˆ Dashboard GRC
![GRC Dashboard](src/assets/screenshots/dashboard-grc.png)
*GovernanÃ§a, Riscos e Compliance com cobertura de frameworks e conformidade*

---

### ğŸ”§ Dashboard Especialista
![Specialist Dashboard](src/assets/screenshots/dashboard-specialist.png)
*Detalhes tÃ©cnicos com mÃ©tricas por categoria e gaps crÃ­ticos*

---

### ğŸ¤– Assistente de IA
![AI Assistant](src/assets/screenshots/ai-assistant.png)
*Chat interativo com anÃ¡lise contextual do assessment*

---

### âš™ï¸ ConfiguraÃ§Ãµes - GestÃ£o de Frameworks
![Settings Frameworks](src/assets/screenshots/frameworks.png)
*Gerenciamento de frameworks padrÃ£o e customizados*

</div>

---

## ğŸ“‹ Sobre o Projeto

Esta ferramenta permite que organizaÃ§Ãµes avaliem sua postura de seguranÃ§a em mÃºltiplos domÃ­nios, identificando gaps crÃ­ticos, gerando roadmaps de remediaÃ§Ã£o e acompanhando a evoluÃ§Ã£o da maturidade ao longo do tempo.

### âœ¨ Principais Funcionalidades

#### ğŸ¯ AvaliaÃ§Ã£o Multi-DomÃ­nio
- **AI Security**: AvaliaÃ§Ã£o baseada em NIST AI RMF, ISO 23894
- **Cloud Security**: AvaliaÃ§Ã£o baseada em CSA CCM, ISO 27017
- **DevSecOps**: AvaliaÃ§Ã£o baseada em NIST SSDF, OWASP

#### ğŸ“Š Dashboards Especializados
- **Executivo**: VisÃ£o estratÃ©gica para CISO e lideranÃ§a com KPIs consolidados
- **GRC**: GovernanÃ§a, Riscos e Compliance com foco em cobertura de frameworks
- **Especialista**: Detalhes tÃ©cnicos para arquitetos e engenheiros de seguranÃ§a

#### ğŸ“ˆ AnÃ¡lise de TendÃªncias
- **HistÃ³rico de Maturidade**: Snapshots automÃ¡ticos diÃ¡rios para acompanhamento temporal
- **ComparaÃ§Ã£o de PerÃ­odos**: VisualizaÃ§Ã£o side-by-side de diferentes intervalos de tempo
- **AnotaÃ§Ãµes em GrÃ¡ficos**: MarcaÃ§Ã£o de eventos e milestones importantes
- **Indicadores por DomÃ­nio**: MÃ©tricas especÃ­ficas (NIST Functions, CSA Domains, SDLC Phases)

#### ğŸ¤– Assistente de IA
- **Chat Interativo**: AnÃ¡lise contextual do assessment com suporte a mÃºltiplos provedores
- **Provedores de IA ConfigurÃ¡veis**: OpenAI, Claude, Gemini, Ollama, Hugging Face
- **PadrÃ£o IA**: Utiliza **Lovable AI Gateway** por padrÃ£o (sem necessidade de API key)
  - Modelos suportados: GPT-5, GPT-5-mini, Gemini 2.5 Pro/Flash, entre outros
  - Fallback automÃ¡tico para provedores configurados pelo usuÃ¡rio

#### ğŸ™ï¸ Sistema de Voz Inteligente

**Text-to-Speech (TTS):**
- **PadrÃ£o**: Web Speech API nativa do navegador (sem custo, funciona offline)
- ConfiguraÃ§Ãµes personalizÃ¡veis: idioma, velocidade, tom, volume e voz preferida
- Auto-speak opcional para respostas do assistente

**Speech-to-Text (STT):**
- **PadrÃ£o**: Web Speech API (reconhecimento em tempo real, gratuito)
- **Alternativas configurÃ¡veis**:
  - OpenAI Whisper (alta precisÃ£o, requer API key)
  - Endpoint customizado (para modelos prÃ³prios)
- Suporte a transcriÃ§Ã£o de arquivos de Ã¡udio

**Perfil de Voz (Speaker Verification):**
- **Cadastro biomÃ©trico**: Grave frases para treinar o sistema a reconhecer sua voz
- **NÃ­veis de enrollment**: PadrÃ£o (6 frases, ~2min) ou AvanÃ§ado (12 frases, ~5min)
- **VerificaÃ§Ã£o automÃ¡tica**: Filtra comandos de vozes nÃ£o cadastradas
- **Processamento em Web Worker**: ExtraÃ§Ã£o de features em background sem bloquear UI
- **VisualizaÃ§Ã£o em tempo real**: Barras de Ã¡udio que respondem ao volume do microfone
- **Barra de progresso**: Indicador visual durante processamento de Ã¡udio
- **Indicador visual**: Mostra status de verificaÃ§Ã£o em tempo real no chat
- **Sensibilidade ajustÃ¡vel**: Slider para calibrar rigor da verificaÃ§Ã£o

**Features de Ãudio ExtraÃ­das:**
- MFCC (13 coeficientes) - Timbre vocal
- Pitch Mean/Std - Tom de voz
- RMS Energy - Intensidade
- Zero Crossing Rate - CaracterÃ­sticas espectrais
- Speaking Rate - Ritmo da fala

**Comandos de Voz:**
- NavegaÃ§Ã£o entre pÃ¡ginas por comando de voz
- Consulta de dados e mÃ©tricas
- Troca de domÃ­nios de seguranÃ§a
- ExportaÃ§Ã£o de relatÃ³rios

#### ğŸ”— IntegraÃ§Ãµes
- **SIEM Integration**: Encaminhamento de eventos em JSON, CEF, LEEF, Syslog
- **Monitoramento de SaÃºde**: MÃ©tricas de latÃªncia, taxa de sucesso e status de conexÃ£o
- **Audit Logging**: Logs detalhados com IP, user-agent e geolocalizaÃ§Ã£o

#### ğŸ“‹ GestÃ£o de ConteÃºdo
- **Frameworks CustomizÃ¡veis**: Adicionar, editar ou desabilitar frameworks
- **QuestÃµes Personalizadas**: Criar questÃµes especÃ­ficas da organizaÃ§Ã£o
- **Versionamento**: HistÃ³rico de alteraÃ§Ãµes com diff e rollback
- **Import/Export**: ImportaÃ§Ã£o em massa via Excel e exportaÃ§Ã£o de configuraÃ§Ãµes

#### ğŸŒ InternacionalizaÃ§Ã£o
- Suporte completo a **PortuguÃªs (BR)**, **English (US)** e **EspaÃ±ol (ES)**
- SincronizaÃ§Ã£o de preferÃªncia de idioma no perfil do usuÃ¡rio

#### ğŸ“„ ExportaÃ§Ã£o de RelatÃ³rios
- **HTML Standalone**: RelatÃ³rios fiÃ©is ao estado atual do dashboard
- **GrÃ¡ficos SVG**: VisualizaÃ§Ãµes vetoriais de alta qualidade
- **Roadmap EstratÃ©gico**: PriorizaÃ§Ã£o em horizontes de 30/60/90 dias

## ğŸ› ï¸ Stack TecnolÃ³gica

| Tecnologia | Uso |
|------------|-----|
| [React 18](https://react.dev/) | Framework UI |
| [TypeScript](https://www.typescriptlang.org/) | Tipagem estÃ¡tica |
| [Vite](https://vitejs.dev/) | Build tool e dev server |
| [Tailwind CSS](https://tailwindcss.com/) | EstilizaÃ§Ã£o |
| [shadcn/ui](https://ui.shadcn.com/) | Componentes UI |
| [Zustand](https://zustand-demo.pmnd.rs/) | Gerenciamento de estado |
| [Recharts](https://recharts.org/) | VisualizaÃ§Ã£o de dados |
| [Supabase](https://supabase.com/) | Backend (banco de dados, auth, edge functions) |
| [TanStack Query](https://tanstack.com/query) | Gerenciamento de dados assÃ­ncronos |
| [React Router](https://reactrouter.com/) | Roteamento |
| [i18next](https://www.i18next.com/) | InternacionalizaÃ§Ã£o |
| [ExcelJS](https://github.com/exceljs/exceljs) | ImportaÃ§Ã£o/ExportaÃ§Ã£o Excel |
| [Web Speech API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API) | TTS/STT nativo do navegador |
| [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API) | AnÃ¡lise de Ã¡udio em tempo real |
| [Web Workers](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) | Processamento em background |
| [Framer Motion](https://www.framer.com/motion/) | AnimaÃ§Ãµes |

## ğŸ”Š ConfiguraÃ§Ã£o PadrÃ£o de IA e Voz

### InteligÃªncia Artificial

| ConfiguraÃ§Ã£o | PadrÃ£o | Alternativas |
|--------------|--------|--------------|
| **Gateway** | Lovable AI Gateway | Provedores customizados |
| **Modelo LLM** | GPT-5 / Gemini 2.5 Pro | GPT-5-mini, Gemini Flash, Claude, Ollama |
| **API Key** | NÃ£o necessÃ¡ria (gateway) | ObrigatÃ³ria para provedores externos |
| **Contexto** | Assessment atual + histÃ³rico | PersonalizÃ¡vel por provedor |

### SÃ­ntese de Voz (TTS)

| ConfiguraÃ§Ã£o | PadrÃ£o | Faixa |
|--------------|--------|-------|
| **Provedor** | Web Speech API | Nativo do navegador |
| **Idioma** | pt-BR | pt-BR, en-US, es-ES |
| **Velocidade** | 1.0x | 0.5x - 2.0x |
| **Tom (Pitch)** | 1.0 | 0.5 - 2.0 |
| **Volume** | 1.0 | 0.0 - 1.0 |
| **Auto-Speak** | Desativado | AtivÃ¡vel por toggle |

### Reconhecimento de Voz (STT)

| ConfiguraÃ§Ã£o | PadrÃ£o | Alternativas |
|--------------|--------|--------------|
| **Provedor** | Web Speech API | OpenAI Whisper, Custom Endpoint |
| **Modo** | Tempo real | TranscriÃ§Ã£o de arquivo (Whisper) |
| **Idioma** | pt-BR | ConfigurÃ¡vel no perfil |
| **API Key** | NÃ£o necessÃ¡ria | ObrigatÃ³ria para Whisper |

### Perfil de Voz (VerificaÃ§Ã£o de Locutor)

| ConfiguraÃ§Ã£o | PadrÃ£o | DescriÃ§Ã£o |
|--------------|--------|-----------|
| **Status** | Desativado | Ativado apÃ³s enrollment |
| **NÃ­vel** | PadrÃ£o (6 frases) | AvanÃ§ado (12 frases) disponÃ­vel |
| **Sensibilidade** | 65% | AjustÃ¡vel de 40% a 90% |
| **Processamento** | Web Worker | Background thread, nÃ£o bloqueia UI |
| **VisualizaÃ§Ã£o** | Tempo real | 12 barras de frequÃªncia animadas |
| **Features** | MFCC, Pitch, Spectral, Energy | AnÃ¡lise multi-dimensional |

## ğŸ“¦ PrÃ©-requisitos

- **Node.js** 18.x ou superior
- **npm** 9.x ou superior (ou yarn/pnpm)

## ğŸš€ InstalaÃ§Ã£o e ExecuÃ§Ã£o Local

### 1. Clone o repositÃ³rio

```bash
git clone https://github.com/trustlayer/trustlayer.git
cd trustlayer
```

### 2. Instale as dependÃªncias

```bash
npm install
```

### 3. Execute o servidor de desenvolvimento

```bash
npm run dev
```

A aplicaÃ§Ã£o estarÃ¡ disponÃ­vel em `http://localhost:5173`

> **Nota**: O backend utiliza Supabase self-hosted ou Postgres externo, conforme o modo de implantacao.

## ğŸ“œ Scripts DisponÃ­veis

| Comando | DescriÃ§Ã£o |
|---------|-----------|
| `npm run dev` | Inicia o servidor de desenvolvimento |
| `npm run build` | Gera build de produÃ§Ã£o |
| `npm run preview` | Visualiza o build de produÃ§Ã£o localmente |
| `npm run lint` | Executa o linter (ESLint) |
| `npm run test` | Executa os testes |

## ğŸ“ Estrutura do Projeto

```
src/
â”œâ”€â”€ components/           # Componentes React reutilizÃ¡veis
â”‚   â”œâ”€â”€ ui/              # Componentes shadcn/ui
â”‚   â”œâ”€â”€ dashboard/       # Componentes de dashboard
â”‚   â”œâ”€â”€ settings/        # Componentes de configuraÃ§Ã£o
â”‚   â”œâ”€â”€ ai-assistant/    # Componentes do assistente IA
â”‚   â””â”€â”€ auth/            # Componentes de autenticaÃ§Ã£o
â”œâ”€â”€ data/                # Dados estÃ¡ticos (frameworks, questÃµes, taxonomia)
â”œâ”€â”€ hooks/               # Custom React hooks
â”œâ”€â”€ i18n/                # Arquivos de internacionalizaÃ§Ã£o
â”‚   â””â”€â”€ locales/         # TraduÃ§Ãµes (pt-BR, en-US, es-ES)
â”œâ”€â”€ integrations/        # IntegraÃ§Ãµes externas (Supabase)
â”œâ”€â”€ lib/                 # UtilitÃ¡rios e lÃ³gica de negÃ³cio
â”‚   â”œâ”€â”€ database.ts      # OperaÃ§Ãµes de banco de dados
â”‚   â”œâ”€â”€ scoring.ts       # CÃ¡lculos de maturidade e mÃ©tricas
â”‚   â”œâ”€â”€ frameworks.ts    # Gerenciamento de frameworks
â”‚   â”œâ”€â”€ securityDomains.ts # Gerenciamento de domÃ­nios
â”‚   â”œâ”€â”€ siemIntegration.ts # IntegraÃ§Ã£o SIEM
â”‚   â”œâ”€â”€ auditLog.ts      # Sistema de auditoria
â”‚   â””â”€â”€ stores.ts        # Stores Zustand
â”œâ”€â”€ pages/               # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”œâ”€â”€ Home.tsx         # PÃ¡gina inicial com onboarding
â”‚   â”œâ”€â”€ Assessment.tsx   # QuestionÃ¡rio de avaliaÃ§Ã£o
â”‚   â”œâ”€â”€ Dashboard*.tsx   # Dashboards (Executive, GRC, Specialist)
â”‚   â”œâ”€â”€ Profile.tsx      # Perfil do usuÃ¡rio
â”‚   â””â”€â”€ Settings.tsx     # ConfiguraÃ§Ãµes
â””â”€â”€ test/                # Testes

supabase/
â”œâ”€â”€ functions/           # Edge Functions
â”‚   â”œâ”€â”€ ai-assistant/    # Assistente de IA
â”‚   â”œâ”€â”€ audit-log/       # Registro de auditoria
â”‚   â”œâ”€â”€ siem-forward/    # Encaminhamento SIEM
â”‚   â”œâ”€â”€ init-demo-data/  # (removido em builds enterprise)
â”‚   â””â”€â”€ init-demo-user/  # (removido em builds enterprise)
â””â”€â”€ config.toml          # ConfiguraÃ§Ã£o Supabase
```

## ğŸ—„ï¸ Banco de Dados

### Principais Tabelas

| Tabela | DescriÃ§Ã£o |
|--------|-----------|
| `security_domains` | DomÃ­nios de seguranÃ§a (AI, Cloud, DevSecOps) |
| `domains` | Categorias L1 da taxonomia |
| `subcategories` | Subcategorias L2 da taxonomia |
| `default_questions` | QuestÃµes padrÃ£o do sistema |
| `custom_questions` | QuestÃµes personalizadas do usuÃ¡rio |
| `answers` | Respostas do assessment |
| `default_frameworks` | Frameworks padrÃ£o |
| `custom_frameworks` | Frameworks personalizados |
| `assessment_meta` | Metadados (frameworks habilitados/selecionados) |
| `maturity_snapshots` | HistÃ³rico de maturidade |
| `chart_annotations` | AnotaÃ§Ãµes em grÃ¡ficos |
| `ai_providers` | ConfiguraÃ§Ãµes de provedores IA |
| `siem_integrations` | IntegraÃ§Ãµes SIEM |
| `siem_metrics` | MÃ©tricas de saÃºde SIEM |
| `change_logs` | Logs de auditoria |
| `question_versions` | Versionamento de questÃµes |
| `profiles` | Perfis de usuÃ¡rio |
| `voice_profiles` | Perfis de voz para verificaÃ§Ã£o de locutor |
| `voice_enrollment_samples` | Amostras de Ã¡udio do enrollment |

## ğŸ¯ Fluxo de Uso

1. **Login**: Acesse com suas credenciais fornecidas pelo administrador
2. **Selecione o DomÃ­nio**: Escolha entre AI Security, Cloud Security ou DevSecOps
3. **Configure Frameworks**: Habilite os frameworks relevantes para sua organizaÃ§Ã£o
4. **AvaliaÃ§Ã£o**: Responda Ã s questÃµes (Sim/Parcial/NÃ£o/NA) com evidÃªncias
5. **Dashboards**: Analise mÃ©tricas, gaps e roadmap por perfil (Executivo/GRC/Especialista)
6. **Compare PerÃ­odos**: Visualize evoluÃ§Ã£o comparando diferentes intervalos de tempo
7. **Exporte**: Gere relatÃ³rios HTML para compartilhamento

## ğŸ”’ SeguranÃ§a

- **Row Level Security (RLS)**: Habilitado em todas as tabelas
- **AutenticaÃ§Ã£o**: Contas provisionadas pelo administrador; SSO opcional (OIDC/SAML)
- **Rate Limiting**: ProteÃ§Ã£o contra brute-force no login
- **ValidaÃ§Ã£o de Senha**: Requisitos de complexidade (8+ chars, maiÃºsculas, nÃºmeros, sÃ­mbolos)
- **Auditoria**: Logs detalhados de todas as aÃ§Ãµes
- **Isolamento Multi-Tenant**: Dados segregados por usuÃ¡rio e domÃ­nio

## ğŸ§ª Testes

```bash
# Executar todos os testes
npm run test

# Testes incluem:
# - ValidaÃ§Ã£o de chaves i18n
# - ConsistÃªncia de placeholders
# - Snapshots de traduÃ§Ãµes
```

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Por favor:

1. FaÃ§a um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/nova-feature`)
3. Commit suas mudanÃ§as (`git commit -m 'Adiciona nova feature'`)
4. Push para a branch (`git push origin feature/nova-feature`)
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## ğŸ“ Suporte

- Abra uma issue para reportar bugs
- DiscussÃµes e sugestÃµes sÃ£o bem-vindas

## ğŸ“š DocumentaÃ§Ã£o Adicional

- [API Reference](docs/API.md) - DocumentaÃ§Ã£o das Edge Functions
- [Architecture](docs/ARCHITECTURE.md) - Diagramas de arquitetura do sistema
- [Contributing](docs/CONTRIBUTING.md) - Guia de contribuiÃ§Ã£o
- [Changelog](docs/CHANGELOG.md) - HistÃ³rico de mudanÃ§as
- [LLM Reference](llm.txt) - ReferÃªncia para assistentes de IA

## Documentation Policy

- Every feature, fix, or change must update the relevant docs, including README, llm.txt, and CHANGELOG.

---

Desenvolvido com â¤ï¸ para a comunidade de seguranÃ§a
